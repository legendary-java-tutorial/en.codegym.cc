Interrupting a loop
<p>----------------------------------------</p>
"Hi Amigo!" "Hi Ellie." "You've already studied loops, and that's cool." "I agree! Now I totally don't know how to live without them." "Sometimes you can do without them... But more often you will need them. Today we're going to talk about the situation when you need to get out of a loop ahead of schedule." "Do you mean, when the condition...
<p>----------------------------------------</p>
<p>"Hi, Amigo!</p>
<p><span class="text-user">"Hi Ellie."</span></p>
<p>"You've already studied loops, and that's cool."</p>
<p><span class="text-user">"I agree! Now I totally don't know how to live without them."</span></p>
<p>"Sometimes you can do without them... But more often you will need them. Today we're going to talk about the situation when you need to get out of a loop ahead of schedule."</p>
<p><span class="text-user">"Do you mean, when the condition for continuing the loop is true, but you still need to exit the loop?"</span></p>
<p>"Exactly! Sometimes you sound like you're already a programmer. Anyway, to break out of a loop ahead of schedule, you can use the <span class="text-bold">break</span> statement. Take a look at the following example:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Explanation</th>
    </tr>
    <tr>
        <td>
<pre class="lecture-code language-java line-numbers"><code>Scanner <span class="text-orange">console</span> = new Scanner(<span class="text-viola">System.in</span>);
boolean <span class="text-red">isExit</span> = false;
while (!<span class="text-red">isExit</span>)
{
&nbsp; &nbsp;String <span class="text-user">s</span> = <span class="text-orange">console</span>.nextLine();
&nbsp;  <span class="text-red">isExit</span> = <span class="text-user">s</span>.equals(<span class="text-green">"exit"</span>);
}</code></pre>
        </td>
        <td>The program will read a line from the keyboard,&nbsp;until you enter <code><span class="token string">"exit"</span></code>.</td>
    </tr>
    </tbody>
</table>
<p><span class="text-user">"I see. The program reads lines from the console. If you enter <code><span class="token string">"exit"</span></code>, then the <code><span class="text-red">isExit</span></code> variable becomes <code>true</code>, the loop condition <code>!<span class="text-red">isExit</span></code> will be <code>false</code>, and the loop will end."</span></p>
<p>"That's right. So, Java has a special <code class="text-red">break</code> statement that lets you simplify such logic. If a <code>break</code> statement is executed inside a loop, then the loop ends immediately. The program will start executing the statement that follows the loop. The statement is very brief:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java text-center"><code><span class="code text-red">break</span>;</code></pre>
</div>
<p>"Here's how you can use the <code>break</code> statement to rewrite the example we just discussed:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Explanation</th>
    </tr>
    <tr>
        <td>
<pre class="lecture-code language-java line-numbers"><code>Scanner <span class="text-orange">console</span> = new Scanner(<span class="text-viola">System.in</span>);
while (<span class="text-red">true</span>)
{
&nbsp; &nbsp;String <span class="text-user">s</span> = <span class="text-orange">console</span>.nextLine();
&nbsp; &nbsp;if (<span class="text-user">s</span>.equals(<span class="text-green">"exit"</span>))
     <span class="code text-red">break</span>;
}</code></pre>
        </td>
        <td>The program will read a line from the keyboard,&nbsp;until you enter <code><span class="token string">"exit"</span></code>.</td>
    </tr>
    </tbody>
</table>
<p><span class="text-user">"Maybe I'll remember that. I feel that it will come in handy."</span></p>
<div class="task-widget-container" showCover="true" taskKey="en.javarush.task.pro.task04.task0406"></div>
<p>"But <code>break</code> isn't the only Java statement that lets you control a loop's behavior. Java also has the <code>continue</code> statement. If you execute a <code>continue</code> statement inside a loop, the current iteration of the loop will end ahead of schedule."</p>
<p><span class="text-user">"What do you mean by iteration?"</span></p>
<p>"A loop iteration is one execution of the loop body. The <code>continue</code> statement interrupts the current iteration of the loop, but unlike the <code>break</code>statement, it doesn't end the loop itself. The statement is also brief:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java text-center"><code><span class="code text-red">continue</span>;</code></pre>
</div>
<p><span class="text-user">"So, the <code class="text-red">continue</code> statement can be used in a loop if we want to 'skip' execution of certain iterations of the loop?"</span></p>
<p>"Exactly. Do you understand the difference between <code>break</code> and <code>continue</code>? If you need to find a seven among 20 non-repeating digits, what kind of loop and loop interruption statement would you use?</p>
<p><span class="text-user">"Hmm... I would go through all the numbers, and if I find 7, then I would execute a <code>break</code>."</span></p>
<p>"What if you need to display numbers from <code>1</code> to <code>20</code> except for numbers that are divisible by <code>7</code>?"</p>
<p><span class="text-user">"Well, here I probably need <code>continue</code>, since I don't want to exit the loop. But I still don't quite understand."</span></p>
<p>"Let me show you how to solve this problem. This is what this code might look like."</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Explanation</th>
    </tr>
    <tr>
        <td>
<pre class="lecture-code language-java line-numbers"><code>int <span class="text-green">i</span> = 1;
while (<span class="text-green">i</span> &lt;= 20)
{
&nbsp; &nbsp;if ( (<span class="text-green">i</span> % 7) == 0 )
     <span class="code text-red">continue</span>;
&nbsp;  <span class="text-brown">System.out.println</span>(i);
&nbsp;  <span class="text-green">i</span>++;
}</code></pre>
        </td>
        <td>The program displays numbers from <code>1</code> to <code>20</code>. If the number is divisible by <code>7</code> (the remainder division by <code>7</code> is <code> 0 </code>), then we skip displaying the number.</td>
    </tr>
    </tbody>
</table>
<p><span class="text-user">"Why are you looking at me so suspiciously, Ellie? Is there some catch here?"</span></p>
<p>"You can't be fooled, Amigo! Indeed, this code <span class="text-red">will not work correctly</span>. It will display the first 6 digits, and then <code>i</code> will forever remain stuck on the number <code>7</code>. After all, the <code>continue</code> statement skips two other statements: <code><span class="text-brown">System.out.println(i)</span></code> and <code>i++</code>. As a result, once we reach the value <code>7</code>, the variable <code>i</code> will stop changing and we'll be in an infinite loop. I wrote the code this way on purpose to illustrate a very common mistake."</p>
<p><span class="text-user">"How do we fix it?"</span></p>
<p>"There are two options here:"</p>
<p><span class="text-bold">Option 1:</span> change <code>i</code> before executing <code class="text-red">continue</code>, but after <code>i % 7</code></p>
<p><span class="text-bold">Option 2:</span> always increment <code>i</code> at the beginning of the loop. But then <code>i</code>'s starting value must be <code>0</code>.</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Option 1</th>
        <th>Option 2</th>
    </tr>
    <tr>
        <td>
<pre class="lecture-code language-java line-numbers"><code>int <span class="text-green">i</span> = 1;
while (<span class="text-green">i</span> &lt;= 20)
{
&nbsp; &nbsp;if ( (<span class="text-green">i</span> % 7) == 0 )
&nbsp; &nbsp;{
&nbsp; &nbsp;  <span class="text-green">i</span>++;
     <span class="code text-red">continue</span>;
&nbsp; &nbsp;}
&nbsp; &nbsp;
&nbsp;  <span class="text-brown">System.out.println</span>(<span class="text-green">i</span>);
&nbsp;  <span class="text-green">i</span>++;
<span>}</span></code></pre>
        </td>
        <td>
<pre class="lecture-code language-java line-numbers"><code>int <span class="text-green">i</span> = 0;
while (<span class="text-green">i</span> &lt; 20)
{
&nbsp;  <span class="text-green">i</span>++;
&nbsp; &nbsp;if ( (<span class="text-green">i</span> % 7) == 0)
     <span class="code text-red">continue</span>;
&nbsp;  <span class="text-brown">System.out.println</span>(i);
}</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p><span class="text-user">"Excellent! I will try not to make this mistake."</span></p>
<p>"I'll remember your promise!"</p>
<div class="task-widget-container" showCover="true" taskKey="en.javarush.task.pro.task04.task0407"></div>