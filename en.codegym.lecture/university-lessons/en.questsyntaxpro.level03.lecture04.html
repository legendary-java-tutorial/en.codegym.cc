Life hacks: how to write code better and faster
<p>----------------------------------------</p>
Expressions vs statements. In Java, it is helpful to distinguish between two categories: statements and expressions. A statement is usually said to be executed, while an expression is said to be evaluated. But that's not the most important thing. The main difference between a statement and an expression is that evaluating an expression has a...
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="10fe4404-0c47-4699-8be7-c6ab418d5c8d" data-max-width="1024" src="https://cdn.javarush.ru/images/article/10fe4404-0c47-4699-8be7-c6ab418d5c8d/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="fe92c6e3-8cc4-45a9-89cc-0e0374c25c51" data-max-width="512" src="https://cdn.javarush.ru/images/article/fe92c6e3-8cc4-45a9-89cc-0e0374c25c51/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="1c3624df-d3a6-4db0-9133-4536e84033aa" data-max-width="512" src="https://cdn.javarush.ru/images/article/1c3624df-d3a6-4db0-9133-4536e84033aa/original.png" alt="">
        </div>
    </div>
</div>

<hr>

<h2>1. Expressions vs statements</h2>
<p>In Java, it is helpful to distinguish between two categories: <span class="term text-yellow">statements</span> and <span class="term">expressions</span>. A statement is usually said to be <span class="term text-yellow">executed</span>, while an expression is said to be <span class="term text-viola">evaluated</span>. But that's not the most important thing.</p>
<p>The main difference between a statement and an expression is that evaluating an expression has a <span class="term">result</span>. And this result has a type, and it can be assigned to a variable or used in some other expression.</p>
<p>Examples:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Code</th>
        <th>Notes</th>
    </tr>
    <tr>
        <td>
            <code class="text-yellow">int x;</code>
        </td>
        <td>Statement</td>
    </tr>
    <tr>
        <td>
            <code class="text-viola">(a &lt; 10)</code>
        </td>
        <td>Expression whose type is <code>boolean</code></td>
    </tr>
    <tr>
        <td>
            <code class="text-viola">i++;</code>
        </td>
        <td>Expression whose type is the same as the type of the <code>i</code> variable</td>
    </tr>
    <tr>
        <td>
            <code class="text-viola">x = 5;</code>
        </td>
        <td>Expression whose type is the same as the type of the <code>x</code> variable</td>
    </tr>
    </tbody>
</table>
<p>And what does this give us?</p>
<p>First, we can take advantage of the fact that many statements are actually expressions (meaning they evaluate to a value). For example, code like this will work:</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Code</th>
        <th>Notes</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>int x, y, z;
x = y = z = 1;</code></pre>
        </td>
        <td>
<pre class="language-java"><code>int x, y, z;
x = (y = (z = 1))</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Second, if we want, we can ignore the result of evaluating an expression.</p>
<table>
    <tbody>
    <tr>
        <th width="50%">Code</th>
        <th>Code where we ignore the result:</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-green">x</span> = scanner.<span class="text-red">nextInt</span>();</code></pre>
            <pre class="language-java"><code>boolean <span class="text-green">m</span> = (5 &lt; 10);</code></pre>
        </td>
        <td>
            <pre class="language-java"><code>scanner.<span class="text-red">nextInt</span>();</code></pre>
            <pre class="language-java"><code>(5 &lt; 10);</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>We ignore the result of evaluating an expression, for example, if the expression involves doing something useful, and this action is what is important to us, not the result itself.</p>
<hr>
<h2>2. Ternary operator</h2>
<p><img data-max-width="1024" data-id="f839975d-ab8a-4acf-9109-5f8be2538af7" src="https://cdn.codegym.cc/images/article/f839975d-ab8a-4acf-9109-5f8be2538af7/1024.jpeg" alt=""></p>
<p>This life hack is already more interesting than the previous one. Java has a special <span class="term">ternary</span> <span class="term">operator</span>. Its syntax is somewhat similar to the syntax for the <code>if-else</code> statement:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="code text-red">Condition</span> <span class="code">?</span> <span class="code text-user">Expression 1</span> <span class="code">:</span> <span class="code text-green">Expression 2</span>;</code></pre>
    <div class="lesson-example-caption"></div>
</div>
<p>If <span class="term text-red">condition</span> is true, then <span class="term text-user">Expression 1</span> is evaluated, otherwise <span class="term text-green">Expression 2</span> is evaluated. The condition is followed by a <span class="term">question&nbsp;mark</span>, and the two expressions are separated by <span class="term">colon</span>.</p>
<p>The main difference between the <span class="term">ternary operator</span> and an <code>if-else</code> statement is that the ternary operator is an expression, which means we can assign its result to something.</p>
<p>For example, suppose we want to calculate the minimum of two numbers. Using the ternary operator, this code would look like this:</p>
<div class="lesson-example lesson-example--center">
        <pre class="lecture-code lecture-code--present language-java"><code>int <span class="text-red">a</span> = 2;
int <span class="text-green">b</span> = 3;
int min = <span class="text-red">a</span> &lt; <span class="text-green">b</span> ?  <span class="text-red">a</span> : <span class="text-green">b</span>;</code></pre>
</div>
<p>Or, let's say you need to assign different values to a variable depending on some condition. How do you do that?</p>
<p>One option is to use an <code>if-else</code> statement:</p>
<div class="lesson-example lesson-example--center">
        <pre class="lecture-code lecture-code--present language-java"><code>int <span class="text-red">age</span> = 25;
int <span class="text-viola">money</span>;
if (<span class="text-red">age</span> &gt; 30)
   <span class="text-viola">money</span> = 100;
else
   <span class="text-viola">money</span> = 50;</code></pre>
</div>
<p>The second option is to use the <span class="term">ternary operator</span>, that is, shorthand for the <code>if-else</code> statement:</p>
<div class="lesson-example lesson-example--center">
        <pre class="lecture-code lecture-code--present language-java"><code>int <span class="text-red">age</span> = 25;
int <span class="text-viola">money</span> = <span class="text-red">age</span> &gt; 30 ? <span class="text-user">100 </span>: <span class="text-green">50</span>;</code></pre>
</div>
<p>So which is better to use â€” an <code>if-else</code> statement or the <span class="term">ternary operator</span>? In terms of execution speed, there isn't much difference. This is more a matter of code readability. And this is a very important point: the code must not only work correctly, but also be easy for other programmers to read.</p>
<p>The simplest rule is this: if <span class="text-green">the code fits on one line</span>, then use the <span class="term">ternary operator</span>; but if it <span class="text-viola">does not fit</span> on one line, then it is better to use an <code><span>if-else</span></code> statement.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task03.task0309"></div>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task03.task0310"></div>
<hr>
<h2>3. Comparing real numbers</h2>
<p>As mentioned earlier, you can't just grab real numbers and compare them. There is always the possibility that some significant digits may be discarded, causing unexpected side effects.</p>
<p>That's why there is a time-tested approach. If two real numbers differ by a very small value, then they can be considered to be equal. Example:</p>
<pre class="language-java"><code>double <span class="text-green">a</span> = 1.000001;
double <span class="text-green">b </span>= 1.000002;
if ( (<span class="text-green">b</span> - <span class="text-green">a</span>) &lt; 0.0001 )
   System.out.println(<span class="text-green">"The numbers are equal"</span>);
else
   System.out.println(<span class="text-green">"The numbers are not equal"</span>);</code></pre>
<p>But that's not all we have to worry about, since the difference between the numbers may well turn out to be negative. So for this approach to work, you need to compare not just the difference between the numbers, but the absolute value of the difference between the numbers: <code>|a-b|</code></p>
<p>Java has a method for calculating the absolute value of a number: <code>Math.abs()</code>:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span>int</span> <span class="text-viola">m</span><span> = <span class="text-red">Math</span></span><span>.<span class="text-viola">abs</span></span><span>(<span class="text-user">value</span>);</span></code></pre>
</div>
<p>As a result, the corrected version of our example above will look like this:</p>
<pre class="language-java"><code>double <span class="text-green">a</span> = 1.000001;
double <span class="text-green">b</span> = 1.000002;

if ( <span><span class="text-red">Math</span></span><span>.<span class="text-viola">abs</span></span>(<span class="text-green">b</span> - <span class="text-green">a</span>) &lt; 0.0001 )
   System.out.println(<span class="text-green">"The numbers are equal"</span>);
else
   System.out.println(<span class="text-green">"The numbers are not equal"</span>);</code></pre>

<hr>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task03.task0311"></div>
<hr>

<div class="lesson-carousel lesson-carousel--comics lesson-carousel--desktop">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="038b25e8-f3cd-4209-a1d7-cf4e7ca49a8f" data-max-width="1024" src="https://cdn.javarush.ru/images/article/038b25e8-f3cd-4209-a1d7-cf4e7ca49a8f/original.png" alt="">
        </div>
    </div>
</div>
<div class="lesson-carousel lesson-carousel--comics lesson-carousel--mobile">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="cda6443d-3e34-4f63-9dec-6471a9827d46" data-max-width="512" src="https://cdn.javarush.ru/images/article/cda6443d-3e34-4f63-9dec-6471a9827d46/original.png" alt="">
        </div>
        <div class="lesson-carousel__item">
            <img data-id="18946e5b-35a1-4799-9035-265ae678b1c5" data-max-width="512" src="https://cdn.javarush.ru/images/article/18946e5b-35a1-4799-9035-265ae678b1c5/original.png" alt="">
        </div>
    </div>
</div>