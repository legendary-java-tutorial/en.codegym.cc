Useful nuances when working with the DateTime API
<p>----------------------------------------</p>
The LocalDateTime class The LocalDateTime class combines the capabilities of the LocalDate and LocalTime classes to store both date and time. Its objects are also immutable, and its methods are similar to those of the LocalDate and LocalTime classes. Getting the current moment: date and time Everything is within the expected
<p>----------------------------------------</p>
<h2>1. <code>LocalDateTime</code> class</h2>
<p>The <code><span class="text-neon">LocalDateTime</span></code> class combines the capabilities of the <code><span class="text-neon">LocalDate</span></code> and <code><span class="text-neon">LocalTime</span></code> classes: it stores both a date and a time. Its objects are also immutable, and its methods are similar to those of the <code><span class="text-neon">LocalDate</span></code> and <code><span class="text-neon">LocalTime</span></code> classes.</p>
<p><strong>Getting the current date and time</strong></p>
<p>Everything is as you would expect here: we use the <code><span class="text-red">now</span>()</code> method. Example:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Console output</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-neon">LocalDateTime</span> <span class="code text-user">time</span> = <span class="text-neon">LocalDateTime</span>.<span class="text-red">now</span>();
System.out.println("Now = " + <span class="code text-user">time</span>);</code></pre>
        </td>
        <td><pre><code>
Сейчас = <span class="text-red">2019-02-22</span>T<span class="text-red">09:49:19</span>.275039200</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>When displayed on the screen, the date and time are separated by the letter <code>T</code>.</p>
<p><strong>Getting a specific date and time</strong></p>
<p>Unsurprisingly, everything is similar to the <code><span class="text-neon">LocalDate</span></code> and <code><span class="text-neon">LocalTime</span></code> classes — we use the <code><span class="text-red">of</span>()</code> method:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present-sm language-java"><code>... = <span class="text-neon">LocalDateTime</span>.<span class="text-red">of</span>(<span class="text-user">year</span>, <span class="text-user">month</span>, <span class="text-user">day</span>, <span class="text-user">hours</span>, <span class="text-user">minutes</span>, <span class="text-user">seconds</span>);</code></pre>
</div>
<p>First, there are parameters that specify the date in the same formats as in the <code><span class="text-neon">LocalDate</span></code> class. Then there are parameters that specify the time in the same formats as in the <code><span class="text-neon">LocalTime</span></code> class. A list of all variations of the <code><span class="text-red">of</span>()</code> method is given below:</p>
<table>
    <tbody>
    <tr>
        <th>Methods</th>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, int <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, int <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>, int <span class="text-green">second</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, int <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>, int <span class="text-green">second</span>, int <span class="text-green">nano</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, Month <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, Month <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>, int <span class="text-green">second</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (int <span class="text-user">year</span>, Month <span class="text-user">month</span>, int <span class="text-user">day</span>, int <span class="text-green">hour</span>, int <span class="text-green">minute</span>, int <span class="text-green">second</span>, int <span class="text-green">nano</span>)</code></pre>
        </td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>of (LocalDate <span class="text-user">date</span>, LocalTime <span class="text-green">time</span>)</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>You can set the date directly or set it indirectly through <code><span class="text-neon">LocalDate</span></code> and <code><span class="text-neon">LocalTime</span></code> objects:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code>LocalDate <span class="code text-user">date</span> = LocalDate.now();
LocalTime <span class="code text-green">time</span> = LocalTime.now();
LocalDateTime <span class="code text-orange">current</span> = LocalDateTime.of(<span class="code text-user">date</span>, <span class="code text-green">time</span>);
System.out.println("Now = " + <span class="code text-orange">current</span>);

LocalDateTime <span class="code text-orange">date</span> = LocalDateTime.<span class="text-red">of</span>(<span class="text-user">2019, Month.MAY</span>, <span class="text-user">15</span>, <span class="text-green">12</span>, <span class="text-green">15</span>, <span class="text-green">00</span>);
System.out.println("Now = " + <span class="code text-orange">date</span>);</code></pre>
        </td>
    </tr>
    <tr>
        <th>Console output</th>
    </tr>
    <tr>
        <td>
                <pre><code>Now = <span class="text-user">2019-02-22</span>T<span class="text-green">10:05:38</span>.465675100
Now = <span class="text-user">2019-05-15</span>T<span class="text-green">12:15</span></code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>The <code><span class="text-neon">LocalDateTime</span></code> class has methods for getting elements of a date and/or time. They exactly mirror the methods of the <code><span class="text-neon">LocalDate</span></code> and <code><span class="text-neon">LocalTime</span></code> classes. We will not repeat them here.</p>
<hr>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task16.task1612"></div>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task16.task1613"></div>
<hr>
<h2>2. <code>Instant</code> class</h2>
<p>Java's creators also haven't forgotten about old school ways.</p>
<p>The Date Time API includes an Instant class for working with time intended for processes that occur in computers. Instead of hours, minutes, and seconds, it deals with <strong>seconds, milliseconds, and nanoseconds.</strong></p>
<p>This class has two fields that represent:</p>
<ul>
    <li>the <strong>number of seconds</strong> that have elapsed since January 1, 1970</li>
    <li>a <strong>number of nanoseconds</strong></li>
</ul>
<p>Was the class made for developers? Yes. That's why it calculates time in Unix-time, which starts at the beginning of 1970.</p>
<p>One could even say that the <code><span class="text-viola">Instant</span></code> class is a simplified version of the <code>Date</code> class, retaining only what programmers need.</p>
<p>You can get an <code><span class="text-viola">Instant</span></code> object in exactly the same way as a <code><span class="text-neon">LocalTime</span></code> object:</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-viola">Instant</span> <span class="code text-user">timestamp</span> = <span class="text-viola">Instant</span>.<span class="text-user">now</span>();</code></pre>
</div>
<p>Where <code class="text-user">timestamp</code> is a <code><span class="text-viola">Instant</span></code> variable, and <code><span class="text-viola">Instant</span>.<span class="text-user">now</span>()</code> is a call to the static <code><span class="text-user">now</span>()</code> method of the <code><span class="text-viola">Instant</span></code> class.</p>
<p>Example:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Console output</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">Instant</span> <span class="code text-user">timestamp</span> = <span class="text-viola">Instant</span>.<span class="text-red">now</span>();
System.out.println(<span class="code text-user">timestamp</span>);</code></pre>
        </td>
        <td><pre><code>
2019-02-22T08:42:42.234945300Z</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>You can also create a new object using variations of the <code>of()</code> method by passing in the time elapsed since January 1, 1970:</p>
<table>
    <tbody>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-red">ofEpochMilli</span>(long milliseconds)</code></pre>
        </td>
        <td>You need to pass the number of milliseconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-red">ofEpochSecond</span>(long seconds)</code></pre>
        </td>
        <td>You need to pass the number of seconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code><span class="text-red">ofEpochSecond</span>(long seconds, long nanos)</code></pre>
        </td>
        <td>You need pass the seconds and nanoseconds</td>
    </tr>
    </tbody>
</table>
<p><strong>Methods available on <code>Instant</code> objects</strong></p>
<p>The Instant class has two methods that return the values of its fields:</p>
<table>
    <tbody>
    <tr>
        <td>
            <pre class="language-java"><code>long <span class="text-red">getEpochSecond</span>()</code></pre>
        </td>
        <td>Number of seconds that have elapsed since January 1, 1970</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>int <span class="text-red">getNano</span>()</code></pre>
        </td>
        <td>Nanoseconds.</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>long <span class="text-red">toEpochMilli</span>()</code></pre>
        </td>
        <td>Number of milliseconds that have elapsed since January 1, 1970</td>
    </tr>
    </tbody>
</table>
<p>There are also methods to create a new <code>Instant</code> objects based on an existing one:</p>
<table>
    <tbody>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">plusSeconds</span>(long)</code></pre>
        </td>
        <td>Adds seconds to the current time</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">plusMillis</span>(long)</code></pre>
        </td>
        <td>Adds milliseconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">plusNanos</span>(long)</code></pre>
        </td>
        <td>Adds nanoseconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">minusSeconds</span>(long)</code></pre>
        </td>
        <td>Subtracts seconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">minusMillis</span>(long)</code></pre>
        </td>
        <td>Subtracts milliseconds</td>
    </tr>
    <tr>
        <td>
            <pre class="language-java"><code>Instant <span class="text-red">minusNanos</span>(long)</code></pre>
        </td>
        <td>Subtracts nanoseconds</td>
    </tr>
    </tbody>
</table>
<p>Examples:</p>
<table>
    <tbody>
    <tr>
        <th>Code</th>
        <th>Console output</th>
    </tr>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-viola">Instant</span> <span class="code text-user">timestamp</span> = <span class="text-viola">Instant</span>.now();
System.out.println(<span class="code text-user">timestamp</span>);

long <span class="code text-orange">n</span> = <span class="code text-user">timestamp</span>.<span class="text-red">toEpochMilli</span>();
Instant <span class="code text-green">time</span> = Instant.<span class="text-red">ofEpochMilli</span>(<span class="code text-orange">n</span>);
System.out.println(<span class="code text-green">time</span>);</code></pre>
        </td>
        <td>
                <pre><code>
2019-02-22T09:01:20.535344Z



2019-02-22T09:01:20.535Z</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<hr>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task16.task1614"></div>
<div class="task-widget-container" showCover="true" taskKey="en.codegym.task.pro.task16.task1615"></div>