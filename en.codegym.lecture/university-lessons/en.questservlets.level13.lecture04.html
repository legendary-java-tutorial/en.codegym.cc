JSP directives
<p>----------------------------------------</p>
include forward Redirect
<p>----------------------------------------</p>
magic directives that I would like to talk about. The first such directive is the <strong>include</strong> directive . It allows you to insert another file in the place of the page where it is indicated. The general format of such a directive is:</p>
<div class="lesson-example lesson-example--center">
 <pre class="lecture-code lecture-code--present  language-java" tabindex="0"><code class=" language-java"><span class="token operator"></span><span class="text-red"><span class="token operator">&lt;</span><span class="token operator">%</span>@</span> <span class="text-green">include file<span class="token operator">=</span></span><span class="token operator"></span><span class="token string">"<span class="text-user">url</span>"</span><span class="token operator"></span><span class="text-red"><span class="token operator">%</span><span class="token operator">&gt;</span></span><span class="token operator"></span></code></pre>
</div>
<p>You can specify not just a file, but, for example, another jsp-servlet, or even a url.</p>
<p>Example:</p>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="text-red">    <span class="token operator">&lt;</span><span class="token operator">%</span>@ include file<span class="token operator">=</span><span class="token string">"header.jsp"</span><span class="token operator">%</span><span class="token operator">&gt;</span></span><span class="token operator"></span>

    <span class="token operator">&lt;</span><span class="token operator">%</span>
        <span class="token keyword">double</span> num <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&gt;</span> <span class="token number">0.95</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="text-red">    <span class="token operator">&lt;</span><span class="token operator">%</span>@ include file<span class="token operator">=</span><span class="token string">"footer.jsp"</span><span class="token operator">%</span><span class="token operator">&gt;</span></span><span class="token operator"></span></code></pre>
<p>You can, for example, put the top part of all pages of the site in header.jsp, and the bottom part in footer.jsp and collect all pages as a constructor.</p>
<h2>5.2 forward</h2>
<p>Remember that classic servlets have the ability to <strong>redirect</strong> or <strong>forward</strong> to another url? In JSP, this is also possible and there is a special action for this. Its appearance is slightly different from what you saw before:</p>
<div class="lesson-example lesson-example--center">
 <pre class="lecture-code lecture-code--present  language-java" tabindex="0"><code class=" language-java"><span class="text-red"> <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>forward</span> <span class="text-green">page</span><span class="token operator">=</span><span class="token string">"<span class="text-user">url</span>"</span><span class="token operator"></span><span class="text-red"><span class="token operator">/</span><span class="token operator">&gt;</span></span><span class="token operator"></span></code></pre>
</div>
<p>There is also a more advanced option - with parameters:</p>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator"></span><span class="text-red"><span class="token operator">&lt;</span>jsp<span class="token operator">:</span>forward</span> <span class="text-green">page</span><span class="token operator">=</span><span class="token string">"<span class="text-user">url</span>"</span> <span class="token operator"><span class="text-red">&gt;</span></span>
<span class="text-red">    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>param</span> <span class="text-green">name</span><span class="token operator">=</span><span class="token string">"<span class="text-user">Name</span>"</span> <span class="text-green">value</span><span class="token operator">=</span><span class="token string">"<span class="text-user">meaning</span>"</span><span class="token operator"></span><span class="text-red"><span class="token operator">/</span><span class="token operator">&gt;</span></span><span class="token operator"></span>
<span class="text-red">    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>param</span> <span class="text-green">name</span><span class="token operator">=</span><span class="token string">"<span class="text-user">Name</span>"</span> <span class="text-green">value</span><span class="token operator">=</span><span class="token string">"<span class="text-user">meaning</span>"</span><span class="token operator"></span><span class="text-red"><span class="token operator">/</span><span class="token operator">&gt;</span></span><span class="token operator"></span>
<span class="text-red">    <span class="token operator">&lt;</span>jsp<span class="token operator">:</span>param</span> <span class="text-green">name</span><span class="token operator">=</span><span class="token string">"<span class="text-user">Name</span>"</span> <span class="text-green">value</span><span class="token operator">=</span><span class="token string">"<span class="text-user">meaning</span>"</span><span class="token operator"></span><span class="text-red"><span class="token operator">/</span><span class="token operator">&gt;</span></span><span class="token operator"></span>
<span class="token operator"></span><span class="text-red"><span class="token operator">&lt;</span><span class="token operator">/</span>jsp<span class="token operator">:</span>forward<span class="token operator">&gt;</span></span><span class="token operator"></span></code></pre>
<p>Example:</p>
<pre class="line-numbers"><code>
&lt;html&gt;
   &lt;head&gt;
    &lt;title&gt;The Forward Example&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
    &lt;center&gt;
        &lt;h2&gt; Forward example &lt;/h2&gt;
<span class="text-red">        &lt;jsp:forward</span> <span class="text-green">page</span>="<span class="text-user">login.jsp</span>"<span class="text-red">/&gt;</span>
    &lt;/center&gt;
   &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2>5.3 Redirect</h2>
<p>There is no special directive for a redirect, but it can be done by calling Java code.</p>
<p>Example:</p>
<pre class="line-numbers"><code>

&lt;body&gt;
<span class="text-red">    &lt;%</span>
<span class="text-user">        String</span> <span class="text-orange">redirectURL</span> = <span class="text-green">"https://codegym.cc/"</span>;
<span class="text-yellow">        response</span>.<span class="text-user">sendRedirect</span>(<span class="text-orange">redirectURL</span>);
<span class="text-red">    %&gt;</span>
&lt;/body&gt;

</code></pre>
<p>This example will send <code>302</code>a redirect. If you need <code>301</code>a redirect, then you need to write a couple more lines of code:</p>
<pre class="line-numbers"><code>

&lt;body&gt;
<span class="text-red">    &lt;%</span>
<span class="text-yellow">        response</span>.<span class="text-user">setStatus</span>(<span class="text-green">301</span>);
<span class="text-yellow">        response</span>.<span class="text-user">setHeader</span>(<span class="text-green">"Location", "https://codegym.cc/"</span>);
<span class="text-yellow">        response</span>.<span class="text-user">setHeader</span>(<span class="text-green">"Connection", "close"</span>);
<span class="text-red">    %&gt;</span>
&lt;/body&gt;

</code></pre>
