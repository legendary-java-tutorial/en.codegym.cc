Related project: testing and logging
<p>----------------------------------------</p>
Related project: testing and logging
<p>----------------------------------------</p>
<h2>This program is an imitation of a hippodrome</h2>
<p>To begin with, as in the previous projects, make a fork from the repository: <a href="https://github.com/CodeGymCC/hippodrome" target="_blank" rel="nofollow">https://github.com/CodeGymCC/hippodrome</a>, and then clone it to your computer.</p>
<p><strong>Your task is to add testing and logging.</strong></p>
<h2>List of required tests</h2>
<p>In the following list, each item must be implemented as a separate test method. When coming up with names for test methods, try to be concise, but at the same time, so that you can roughly understand what exactly is being tested in them. For example, compare these two test results:</p><img data-max-width="512" data-id="bc2ad851-64bf-43e4-b235-5abb1be944a7" alt="" src="https://cdn.javarush.com/images/article/bc2ad851-64bf-43e4-b235-5abb1be944a7/512.jpeg" style="width: 512px;">
<p>On the right side of the above example, it is more difficult to understand what kind of tests did not pass, and you will have to look at the logs.</p>
<h3>1. Horse class:</h3>
<ol type="a">
 <li><strong>constructor</strong></li>
 <ul>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when <code>null</code> is passed to the constructor as the first parameter. To do this, use the <code>assertThrows</code> method;</li>
  <li>Check that when <code>null</code> is passed to the constructor as the first parameter, the thrown exception contains the "Name cannot be null." message. To do this, you need to get a message from the caught exception and use <code>assertEquals</code>. The test should fail if no exception is thrown;</li>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when an empty string or a string containing only whitespace characters (space, tab, etc.) is passed as the first parameter to the constructor. To test with different variants of whitespace characters, you need to make the test parameterized;</li>
  <li>Check that when an empty string or a string containing only whitespace characters (space, tab, etc.) is passed to the constructor as the first parameter, the thrown exception contains the "Name cannot be blank." message. The test should fail if no exception is thrown;</li>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when a negative number is passed to the constructor as the second parameter;</li>
  <li>Check that when a negative number is passed to the constructor as the second parameter, the thrown exception contains the "Speed cannot be negative." message;</li>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when a negative number is passed to the constructor as the third parameter;</li>
  <li>Check that when passing a negative number to the constructor as the third parameter, the thrown exception contains the "Distance cannot be negative." message;</li>
 </ul>
 <li><strong>getName method</strong></li>
 <ul>
  <li>Check that the method returns the string that was passed to the constructor as the first parameter;</li>
 </ul>
 <li><strong>getSpeed method</strong></li>
 <ul>
  <li>Check that the method returns the number that was passed to the constructor as the second parameter;</li>
 </ul>
 <li><strong>getDistance method</strong></li>
 <ul>
  <li>Check that the method returns the number that was passed to the constructor as the third parameter;</li>
  <li>Check that the method returns zero if the object was created using a constructor with two parameters;</li>
 </ul>
 <li><strong>move method</strong></li>
 <ul>
  <li>Check that the <code>getRandomDouble</code> method is called inside the move method with parameters 0.2 and 0.9. To do this, you need to use <code>MockedStatic</code> and its <code>verify</code> method;</li>
  <li>Check that the method assigns the distance value calculated by the formula: <code>distance + speed * getRandomDouble(0.2, 0.9)</code>. To do this, you need to mock the <code>getRandomDouble</code> method so that it returns certain values that you need to set by parameterizing the test.</li>
 </ul>
</ol>
<h3>2. Hippodrome class:</h3>
<ol type="a">
 <li><strong>Constructor</strong></li>
 <ul>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when <code>null</code> is passed to the constructor;</li>
  <li>Check that when <code>null</code> is passed to the constructor, the thrown exception contains the "Horses cannot be null." message;</li>
  <li>Check that an <code>IllegalArgumentException</code> is thrown when an empty list is passed to the constructor;</li>
  <li>Check that when an empty list is passed to the constructor, the thrown exception contains the "Horses cannot be empty." message;</li>
 </ul>
 <li><strong>getHorses method</strong></li>
 <ul>
  <li>Check that the method returns a list that contains the same objects and in the same order as the list that was passed to the constructor. When creating the <strong>Hippodrome</strong> object, pass a list of 30 different horses to the constructor;</li>
 </ul>
 <li><strong>move method</strong></li>
 <ul>
  <li>Check that the method calls the move method on all horses. When creating the Hippodrome object, pass a list of 50 mock horses to the constructor. Use the <code>verify</code> method to check that method move was called for every horse.</li>
 </ul>
 <li><strong>getWinner method</strong></li>
 <ul>
  <li>Check that the method returns the horse with the largest distance value.</li>
 </ul>
</ol>
<h3>3. Main class</h3>
<ol type="a">
 <li><strong>main method</strong></li>
 <ul>
  <li>Check that the method is executed no longer than 22 seconds. To do this, use the Timeout annotation. After writing this test, disable it (use the Disabled annotation). This way it will not take up time when running all the tests, and if necessary, it can be run manually.</li>
 </ul>
</ol>
<h2>What needs to be logged</h2>
<h3>1. Main class:</h3>
<ol type="a">
 <li>After creating the hippodrome object, add an entry like this to the log:<code>2022-05-31 17:05:26,152 INFO Main: Start of the race. Number of participants: 7</code></li>
 <li>After displaying information about the winners, add an entry like this to the log:<code>2022-05-31 17:05:46,963 INFO Main: End of the race. Winner: Cherry</code></li>
</ol>
<h3>2. Hippodrome class:</h3>
<ol type="a">
 <li>If null was passed to the constructor, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:29:30,029 ERROR Hippodrome: Horses list is null</code></li>
 <li>If an empty list was passed to the constructor, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:30:41,074 ERROR Hippodrome: Horses list is empty</code></li>
 <li>At the end of the constructor, add an entry like this to the log:<code>2022-05-31 17:05:26,152 DEBUG Hippodrome: Created a Hippodrome with [7] horses</code></li>
</ol>
<h3>3. Horse class:</h3>
<ol type="a">
 <li>If null is passed to the constructor instead of a name, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:34:59,483 ERROR Horse: Name is null</code></li>
 <li>If the name passed to the constructor is empty, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:36:44,196 ERROR Horse: Name is blank</code></li>
 <li>If the speed passed to the constructor is less than zero, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:40:27,267 ERROR Horse: Speed is negative</code></li>
 <li>If the distance passed to the constructor is less than zero, then before throwing the exception, add an entry like this to the log:<code>2022-05-31 17:41:21,938 ERROR Horse: Distance is negative</code></li>
 <li>At the end of the constructor, add an entry like this to the log:<code>2022-05-31 17:15:25,842 DEBUG Horse: Created a Horse named [Lobster] with speed [2.8]</code></li>
</ol>
<p>Logs should be written to the <strong>hippodrome.log</strong> file, which should be located in the project root in the <strong>logs</strong> folder. Every day the file should be renamed according to the pattern <strong>hippodrome.2021-12-31.log and a new </strong><strong>hippodrome.log</strong> should be created instead. To do this, use the <strong>RollingFile</strong> appender. In this case, files older than 7 days should be deleted. To do this, you can use a construct like this:</p>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DefaultRolloverStrategy</span><span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token class-name">Delete</span> â€¦<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">IfFileName</span> â€¦<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token class-name">IfLastModified</span> â€¦<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">Delete</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token class-name">DefaultRolloverStrategy</span><span class="token operator">&gt;</span></code></pre>
<p>Google what to substitute the three dots with.ðŸ˜Š</p>
<p></p>
<p></p>
<hr>
<p><a href="https://www.youtube.com/watch?v=4wLhWdusUDQ" target="_blank" rel="nofollow">Project analysis</a> . <strong>Watch after completion!</strong></p>